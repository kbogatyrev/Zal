CREATE TABLE headword (id INTEGER PRIMARY KEY ASC, source TEXT, plural_of TEXT, comment TEXT, usage TEXT, variant TEXT, see_also TEXT, is_subentry_of TEXT);

CREATE TABLE homonyms (id INTEGER PRIMARY KEY ASC, headword_id INTEGER, homonym_number INTEGER, FOREIGN KEY (headword_id) REFERENCES headword (id));

CREATE TABLE stress (id INTEGER PRIMARY KEY ASC, headword_id INTEGER, stress_position INTEGER, is_primary BOOLEAN, FOREIGN KEY (headword_id) REFERENCES headword (id));

CREATE TABLE descriptor (id INTEGER PRIMARY KEY ASC, word_id INTEGER, graphic_stem TEXT, is_variant BOOLEAN DEFAULT (0), main_symbol TEXT, part_of_speech INTEGER, is_plural_of BOOLEAN DEFAULT (0), is_intransitive BOOLEAN DEFAULT (0), is_reflexive BOOLEAN DEFAULT(0), main_symbol_plural_of TEXT, alt_main_symbol TEXT, inflection_type TEXT, comment TEXT, alt_main_symbol_comment TEXT, alt_inflection_comment TEXT, verb_stem_alternation TEXT, part_past_pass_zhd BOOLEAN DEFAULT (0), section INTEGER, no_comparative BOOLEAN DEFAULT (0), assumed_forms BOOLEAN DEFAULT (0), yo_alternation BOOLEAN DEFAULT (0), o_alternation BOOLEAN DEFAULT (0), second_genitive BOOLEAN DEFAULT (0), has_aspect_pair BOOLEAN DEFAULT (0), aspect_pair_type INTEGER, aspect_pair_comment TEXT, questionable_forms TEXT, has_irregular_forms BOOLEAN, restricted_forms TEXT, contexts TEXT, trailing_comment TEXT, FOREIGN KEY (word_id) REFERENCES headword (id));

CREATE TABLE second_locative (id INTEGER PRIMARY KEY ASC, descriptor_id INTEGER, is_optional BOOLEAN DEFAULT (0), preposition TEXT, FOREIGN KEY (descriptor_id) REFERENCES descriptor (id));

CREATE TABLE inflection (id INTEGER PRIMARY KEY ASC, descriptor_id INTEGER, is_primary BOOLEAN DEFAULT (0), inflection_type INTEGER, accent_type1 INTEGER, accent_type2 INTEGER, short_form_restrictions BOOLEAN DEAFULT (0), past_part_restrictions BOOLEAN DEAFULT (0), no_short_form BOOLEAN DEAFULT (0), no_past_part BOOLEAN DEAFULT (0), fleeting_vowel BOOLEAN DEFAULT (0), stem_augment BOOLEAN DEFAULT (0));

CREATE TABLE irregular_forms (id INTEGER PRIMARY KEY ASC, descriptor_id INTEGER, gram_hash INTEGER, wordform TEXT, FOREIGN KEY (descriptor_id) REFERENCES descriptor (id));

CREATE TABLE irregular_stress (id INTEGER PRIMARY KEY ASC, form_id INTEGER, position INTEGER, is_primary BOOLEAN, FOREIGN KEY (form_id) REFERENCES irregular_forms (id));

CREATE TABLE difficulties (id INTEGER PRIMARY KEY ASC, descriptor_id INTEGER, parameter INTEGER, FOREIGN KEY (descriptor_id) REFERENCES descriptor (id));

CREATE TABLE endings (id INTEGER PRIMARY KEY ASC, ending TEXT, inflection_class INTEGER, inflection_type INTEGER, case_value INTEGER, person INTEGER, gender INTEGER, animacy INTEGER, stress INTEGER, number INTEGER, stem_augment BOOLEAN DEFAULT (0), common_deviation INTEGER, conjugation INTEGER, stem_auslaut INTEGER);

CREATE TABLE endings_for_analysis (id INTEGER PRIMARY KEY ASC, subtable_id INTEGER, ending TEXT, gram_hash INTEGER, stress_pos INTEGER);

CREATE TABLE endings_meta (id INTEGER PRIMARY KEY ASC, subtable_id INTEGER, entries_count INTEGER);

CREATE TABLE stems_for_analysis (id INTEGER PRIMARY KEY ASC, descriptor_id INTEGER, stem TEXT, stress_pos INTEGER, endings_link INTEGER);

CREATE TABLE common_deviation (id INTEGER PRIMARY KEY ASC, inflection_id INTEGER, deviation_type INTEGER, is_optional BOOLEAN);

CREATE INDEX idx_common_deviation_id ON common_deviation (id, inflection_id);
CREATE INDEX idx_descriptor_id ON descriptor (id, word_id);
CREATE INDEX idx_descriptor_gs ON descriptor (graphic_stem);
CREATE INDEX idx_descriptor_ms ON descriptor (main_symbol);
CREATE INDEX idx_descriptor_pos ON descriptor (part_of_speech);
CREATE INDEX idx_headword_id ON headword (id);
CREATE INDEX idx_headword_source ON headword (source);
CREATE INDEX idx_inflection_id ON inflection (id, descriptor_id);
CREATE INDEX idx_inflection_descr ON inflection (descriptor_id);
CREATE INDEX idx_stress_id ON stress (id, headword_id);
CREATE INDEX idx_stress_hw ON stress (headword_id);


CREATE TABLE test_data (id INTEGER PRIMARY KEY ASC, lexeme_id INTEGER, hash INTEGER, wordform TEXT);

CREATE TABLE test_data_stress (id INTEGER PRIMARY KEY, form_id INTEGER, position INTEGER, is_primary BOOLEAN);

CREATE INDEX idx_test_data_id ON test_data (id, lexeme_id);

CREATE INDEX idx_test_data_stress ON test_data_stress (id, form_id);
